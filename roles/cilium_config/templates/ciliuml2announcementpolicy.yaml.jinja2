# https://docs.cilium.io/en/latest/network/l2-announcements/

apiVersion: "cilium.io/v2alpha1"
kind: CiliumL2AnnouncementPolicy
metadata:
  name: default
spec:
  serviceSelector:
    matchLabels:
      io.kubernetes.service.namespace: {{ cilium_config_service_namespace }}
  nodeSelector:
    matchExpressions:
    - key: node-role.kubernetes.io/control-plane
      operator: DoesNotExist
  interfaces:
   - {{ cilium_config_service_interface }}
  externalIPs: false
  loadBalancerIPs: true
